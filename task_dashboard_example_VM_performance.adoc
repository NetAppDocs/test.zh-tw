---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 顯示虛擬機器效能的儀表板範例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= 儀表板範例：虛擬機器效能
:allow-uri-read: 


[role="lead"]
現今IT營運面臨許多挑戰。系統管理員必須以更少的資源完成更多工作、而且必須完全掌握動態資料中心。在此範例中、我們將示範如何使用小工具建立儀表板、讓您深入瞭解環境中的虛擬機器（VM）效能。依照此範例建立小工具以滿足您自己的特定需求、您可以將後端儲存效能與前端虛擬機器效能進行視覺化、或是檢視VM延遲與I/O需求。

我們將在此建立一個虛擬機器效能儀表板、其中包含下列項目：

* 列出VM名稱與效能資料的表格
* 比較VM延遲與儲存延遲的圖表
* 顯示VM讀取、寫入和IOPS總計的圖表
* 顯示VM處理量上限的圖表


這只是一個基本範例。您可以自訂儀表板、以強調及比較您選擇的任何效能資料、以便針對您自己的營運最佳實務做法。

.步驟
. 以具有管理權限的使用者身分登入Insight。
. 從*儀表板*功能表中、選取*[+新儀表板]*。
+
「*新儀表板*」頁面隨即開啟。

. 在頁面頂端、輸入儀表板的唯一名稱、例如「VM Performance by Application」。
. 按一下「*儲存*」以新名稱儲存儀表板。
. 讓我們開始新增小工具。如有必要、請按一下*編輯*圖示以啟用編輯模式。
. 按一下「*新增小工具*」圖示、然後選取「*表格*」、將新的表格小工具新增至儀表板。
+
「編輯小工具」對話方塊隨即開啟。顯示的預設資料適用於您環境中的所有儲存設備。



image:VMDashboard-TableWidget1.png[""]

. 我們可以自訂此小工具。在頂端的「Name（名稱）」欄位中、刪除「Widget 1」、然後輸入「Virtual Machine Performance Table（虛擬機器效能表）」。
. 按一下資產類型下拉式清單、然後將_Storage_變更為_Virtual Machine。
+
表格資料會變更、以顯示您環境中的所有虛擬機器。

. 現在就讓我們在表格中新增幾欄。按一下右側的Gear（齒輪）圖示、然後選取_Hypervisor名稱_、_IOPS -總計_和_延遲-總計_。您也可以嘗試在搜尋中輸入名稱、以快速顯示所需的欄位。
+
這些欄現在會顯示在表格中。您可以根據這些欄位中的任何欄位來排序表格。請注意、這些欄會依照新增至小工具的順序顯示。

. 在本練習中、我們會排除未使用中的VM、因此我們來篩選出總IOPS低於10的任何項目。按一下「*篩選條件*」旁邊的*[+]*按鈕、然後選取「_IOPS -總計_」。按一下* any *、然後在* from *欄位中輸入「10」。將*收件人*欄位保留空白。按一下「篩選」欄位、或按Enter設定篩選條件。
+
此表現在僅顯示總IOPS為10或以上的VM。

. 我們可以將結果分組、進一步摺疊表格。按一下*群組依據*旁的*[+]*按鈕、然後選取要分組依據的欄位、例如_Application_或_Hypervisor名稱_。系統會自動套用群組。
+
表格列現在會根據您的設定進行分組。您可以視需要展開及收合群組。群組列會顯示每個欄的彙總資料。有些欄可讓您選擇該欄的彙總方法。



image:VMDashboard-TableWidgetGroup.png[""]

. 當您已自訂表格小工具以達到滿意度時、請按一下「*（儲存）」*按鈕。
+
表格小工具會儲存至儀表板。



您可以拖曳右下角、在儀表板上調整Widget的大小。讓小工具變寬、以便清楚顯示所有欄。按一下「*儲存*」以儲存目前的儀表板。

接下來、我們會新增一些圖表來顯示我們的VM效能。我們來建立比較VM延遲與VMDK延遲的折線圖。

. 如有必要、請按一下儀表板上的*編輯*圖示、以啟用編輯模式。
. 按一下*[新增小工具]*圖示、然後選取「_Line Chart_」、將新的折線圖小工具新增至儀表板。
. 此時將打開*編輯小工具*對話框。將此小工具命名為「VM / VMDK最大延遲」
. 選擇*虛擬機器*、然後選擇_延遲-最大_。設定您想要的任何篩選條件、或將*篩選條件*保留為空白。對於*彙總*、請選擇「_Sum」（_全部_）。將此資料顯示為_Line圖表_、並將_Y-Axis_保留為_Primary_。
. 按一下「*+查詢*」按鈕以新增第二個資料行。在此行中、選取「_VMDDK」和「_Latency - Max_」。設定您想要的任何篩選條件、或將*篩選條件*保留為空白。對於*彙總*、請選擇「_Sum」（_全部_）。將此資料顯示為_Line圖表_、並將_Y-Axis_保留為_Primary_。
. 按一下「*」「Save」（儲存）*、將此小工具新增至儀表板。


image:VMDashboard-LineChartVMLatency.png[""]

接下來、我們將在單一圖表中新增顯示VM讀取、寫入和IOPS總計的圖表。

. 按一下*[新增小工具]*圖示、然後選取「區域圖」、將新的區域圖小工具新增至儀表板。
. 「編輯小工具」對話方塊隨即開啟。將此小工具命名為「VM IOPS」
. 選擇*虛擬機器*、然後選擇_ IOPS -總計_。設定您想要的任何篩選條件、或將*篩選條件*保留為空白。對於*彙總*、請選擇「_Sum」（_全部_）。將此資料顯示為_區域圖表_、並將_Y-Axis_保留為_主要_。
. 按一下「*+查詢*」按鈕以新增第二個資料行。在此行中、選取*虛擬機器*、然後選擇_IOPS - read_。
. 按一下「*+查詢*」按鈕以新增第三個資料行。在此行中、選取*虛擬機器*、然後選擇_IOPS - Writ_。
. 按一下*顯示圖例*、即可在儀表板上顯示此Widget的圖例。


image:VMDashboard-AreaChartVMIOPS.png[""]

. 按一下「*」「Save」（儲存）*、將此小工具新增至儀表板。


接下來、我們將新增圖表、顯示與VM相關之每個應用程式的VM處理量。我們將針對此使用「彙總」功能。

. 按一下*[新增小工具]*圖示、然後選取「_Line Chart_」、將新的折線圖小工具新增至儀表板。
. 「編輯小工具」對話方塊隨即開啟。將此小工具命名為「依應用程式劃分的虛擬機器處理量」
. 選取「Virtual Machine（虛擬機器）」、然後選擇「Throther - Total設定您想要的任何篩選條件、或保留「篩選條件」為空白。若為「彙總」、請選擇「最大」、然後選取「應用程式」或「名稱」。顯示前10大應用程式。將此資料顯示為折線圖、並將Y軸保留為主要。
. 按一下「*」「Save」（儲存）*、將此小工具新增至儀表板。


您可以在儀表板上移動小工具、只要按住小工具頂端的任何位置、然後將其拖曳至新位置即可。

您可以拖曳右下角來調整小工具的大小。

進行變更後、請務必*「儲存」*儀表板。

您的最終VM效能儀表板如下所示：

image:VMDashExample1.png[""]
