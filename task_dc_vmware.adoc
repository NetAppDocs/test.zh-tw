---
sidebar: sidebar 
permalink: task_dc_vmware.html 
keywords: data collector, VMware, 
summary: 設定VMware資料收集器。 
---
= 設定VMware vSphere資料收集器
:allow-uri-read: 


[role="lead"]
VMware vSphere的資料收集器會收集ESX主機資訊、並要求虛擬中心內所有物件的唯讀權限。



== 術語

從VMware vSphere資料收集器取得下列庫存資訊。Cloud Insights對於所取得的每種資產類型、都會顯示該資產最常用的術語。檢視或疑難排解此資料收集器時、請謹記下列術語：

[cols="2*"]
|===
| 廠商/模型術語 | 詞彙Cloud Insights 


| 虛擬磁碟 | 磁碟 


| 主機 | 主機 


| 虛擬機器 | 虛擬機器 


| 資料儲存區 | 資料儲存區 


| LUN | Volume 


| 光纖通道連接埠 | 連接埠 
|===
這些只是通用的術語對應、可能不代表此資料收集器的每個案例。



== 需求

設定此資料收集器需要下列資訊：

* Virtual Center伺服器的IP位址
* Virtual Center中的唯讀使用者名稱和密碼
* 我們需要對Virtual Center內的所有物件擁有唯讀權限。
* Virtual Center伺服器上的SDK存取–通常已經設定。
* 連接埠需求：https-80 https-443
* 驗證存取：
+
** 使用上述使用者名稱和密碼登入Virtual Center Client
** 確認SDK已啟用：Telnet <VC_IP> 443






== 設定與連線

[cols="2*"]
|===
| 欄位 | 說明 


| 名稱 | 資料收集器的唯一名稱 


| 擷取單元 | 擷取單位名稱 
|===


== 組態

[cols="2*"]
|===
| 欄位 | 說明 


| 虛擬中心IP位址 | 虛擬中心的IP位址 


| 使用者名稱 | 用於存取Virtual Center的使用者名稱 


| 密碼 | 用於存取虛擬中心的密碼 
|===


== 進階組態

在進階組態畫面中、勾選「* VM效能*」方塊以收集效能資料。庫存收集預設為啟用。您可以設定下列欄位：

[cols="2*"]
|===


| 欄位 | 說明 


| 庫存輪詢時間間隔（分鐘） | 預設值為20 


| 篩選虛擬機器 | 選取叢集、資料中心或ESX主機 


| 選擇「排除」或「包含」以指定清單 | 建立篩選器清單（叢集、資料中心及/或ESX_host） 


| 重試次數 | 預設值為3 


| 通訊連接埠 | 預設值為443 


| 篩選裝置清單... | 此清單必須包含確切的字串相符項目、如果您想要依ESX_host篩選、則必須建立一份以英文分隔的清單、列出Cloud Insights 在VMware和vSphere中報告的ESX主機確切「名稱」。這些「名稱」可以是IP位址、簡單主機名稱或完整網域名稱（FQDN）、這取決於這些主機在最初新增至vSphere時的命名方式。當依叢集篩選時、 在Hypervisor上使用CI所報告的Cloud Insights型叢集名稱- Cloud Insights 以vSphere資料中心名稱和反斜槓來預先輸入vSphere叢集名稱-「DC1」是叢集名稱Cloud Insights 、而「叢集名稱」是指資料中心DC1內叢集A中的Hypervisor 


| 效能意見調查時間間隔（秒） | 預設值為300 
|===


== 疑難排解

如果您在使用此資料收集器時遇到問題、請嘗試下列事項：



==== 庫存

[cols="2*"]
|===
| 問題： | 試用： 


| 錯誤：包含篩選VM的清單不可為空白 | 如果選取「包含清單」、請列出有效的資料中心、叢集或主機名稱以篩選VM 


| 錯誤：無法在IP上建立與VirtualCenter的連線 | 可能的解決方案：*驗證輸入的認證資料和IP位址。*嘗試使用VMware Infrastructure Client與Virtual Center通訊。*嘗試使用受管理的物件瀏覽器（例如MOB）與Virtual Center通訊。 


| 錯誤：IP上的VirtualCenter具有不符合JVM要求的憑證 | 可能的解決方案：*建議：使用更強大的功能（例如 1024位元）RSA金鑰。*不建議：修改JVM java.security組態、以利用限制JDK.certpath.disabledAlgorith數 來允許512位元RSA金鑰。請參閱位於的《JDK 7 update 40 Release Notes（英文） "http://www.oracle.com/technetwork/java/javase/7u40-relnotes-2004172.html"[] 
|===
如需其他資訊、請參閱 link:concept_requesting_support.html["支援"] 頁面或中的 link:https://docs.netapp.com/us-en/cloudinsights/CloudInsightsDataCollectorSupportMatrix.pdf["資料收集器支援對照表"]。
